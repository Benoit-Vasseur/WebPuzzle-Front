"use strict";angular.module("WebPuzzleFrontApp",["ui.router","ngDisqus","ngAnimate","ui.bootstrap.buttons","ui.bootstrap.tooltip","template/tooltip/tooltip-popup.html"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$disqusProvider",function(a,b,c,d){d.setShortname("webpuzzle"),c.hashPrefix("!"),b.when("","/app/list"),b.when("/","/app/list"),b.when("/app/detail/","/app/list"),b.otherwise("/app/list"),a.state("app",{"abstract":!0,url:"/app",templateUrl:"views/navbar.html",controller:"navBarCtrl"}).state("app.list",{url:"/list",templateUrl:"views/list.html",controller:"MainCtrl"}).state("app.create",{url:"/create",templateUrl:"views/create.html",controller:"CreateCtrl"}).state("app.detail",{url:"/detail/:id",templateUrl:"views/wcDetailedView.html",controller:"wcDetailedViewCtrl"})}]),angular.module("WebPuzzleFrontApp").controller("MainCtrl",["$scope","$rootScope","$http","WsUrl",function(a,b,c,d){a.webcomponents=[],c({method:"GET",url:d+"web_components.json"}).success(function(b){a.webcomponents=b}).error(function(){}),a.selectWC={fn:function(c){console.log(c),console.log(a),console.log(b),b.selectedWC=c}},a.filter={text:"",filterObject:{name:"",submitter:""}},a.sortingTypes=[{name:"ascending alphabetical order",iconCss:"fa fa-sort-alpha-asc",filter:"name"},{name:"Descending alphabetical order",iconCss:"fa fa-sort-alpha-desc",filter:"-name"},{name:"Descending popularity order",iconCss:"fa fa-sort-amount-desc",filter:"-popularity"},{name:"Ascending popularity order",iconCss:"fa fa-sort-amount-asc",filter:"popularity"}],a.selectedSorting={sortingFilterExpr:"name"},a.filterTypes=[{name:"By name",filter:"name"},{name:"By author",filter:"submitter"}],a.selectedFilterType={filter:"name"},a.$watch("filter.text",function(b){a.filter.filterObject={name:"",submitter:""},a.filter.filterObject[a.selectedFilterType.filter]=b}),a.$watch("selectedFilterType.filter",function(b){a.filter.filterObject={name:"",submitter:""},a.filter.filterObject[b]=a.filter.text})}]),angular.module("WebPuzzleFrontApp").controller("CreateCtrl",["$scope","$http",function(a,b){a.wc={name:"",description:"",imageLink:"",githubLink:"",demoLink:""},a.oldWC={},a.saveWC=function(c){a.oldWC=angular.copy(c),b({method:"POST",url:"http://webpuzzlews.herokuapp.com/web_components.json",data:c}).success(function(b,c){a.status=c,a.data=b}).error(function(b,c){a.data=b||"Request failed",a.status=c})},a.isUnchanged=function(b){return angular.equals(b,a.oldWC)}}]),angular.module("WebPuzzleFrontApp").controller("navBarCtrl",function(){}),angular.module("WebPuzzleFrontApp").controller("wcDetailedViewCtrl",["$scope","$rootScope","$stateParams","$http","WsUrl",function(a,b,c,d,e){a.wc={id:c.id},!a.selectedWC,d({method:"GET",url:e+"web_components/"+a.wc.id+".json"}).success(function(a){b.selectedWC=a}).error(function(){})}]),angular.module("WebPuzzleFrontApp").factory("WsUrl",function(){var a="http://webpuzzlews.herokuapp.com/";return a}),angular.module("WebPuzzleFrontApp").directive("webComponent",function(){return{restrict:"E",templateUrl:"directive_templates/webComponent.html"}});